!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),i=o(r),a={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){a.receivedEvent()},receivedEvent:function(){new i["default"]}};a.initialize()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(){function e(){var e=location.href.split("/").slice(-1);if(e=e[0],"add.html"===e)v=document.querySelector(".form"),v.addEventListener("submit",t);else if("edit.html"===e){var n=localStorage.getItem("noteToEdit");v=document.querySelector(".form"),v.addEventListener("submit",i),c(parseInt(n,10),function(e){v.querySelector(".form__title").value=e.result.name,v.querySelector(".form__description").value=e.result.description})}else u(function(e){console.log(e);var t=document.createElement("ul");t.className="table-view";var n="";e.forEach(function(e){n+='<li class="table-view-cell"><a id="'+e.timeStamp+'" href="edit.html" data-transition="slide-in" class="note__item push-right"><strong>'+e.name+"</strong></a></li>"}),t.innerHTML=n,document.querySelector(".card").appendChild(t);var o=document.querySelectorAll(".note__item"),r=[].slice.call(o);r.forEach(function(e){e.addEventListener("touchstart",function(){localStorage.setItem("noteToEdit",this.id)})})})}function t(e){e.preventDefault(),s(function(){v.querySelector(".form__title").value="",v.querySelector(".form__description").value="",o("index.html")})}function o(e){var t=window.location.href.split("/");t.pop(),e.replace("/",""),t.push(e),t=t.join("/"),PUSH({url:t,transition:"fade"})}function i(e){e.preventDefault();var t=localStorage.getItem("noteToEdit");a(parseInt(t,10),function(){o("index.html")})}function a(e,t){var n=f.transaction(["todo"],"readwrite"),o=n.objectStore("todo"),r=o["delete"](e);n.oncomplete=function(e){t()},r.onerror=l}function c(e,t){var n=f.transaction(["todo"],"readwrite"),o=n.objectStore("todo"),r=o.get(e);n.oncomplete=function(e){t(r)}}function u(e){var t=f.transaction(["todo"],"readonly"),n=t.objectStore("todo"),o=IDBKeyRange.lowerBound(0),r=n.openCursor(o),i=[];r.onsuccess=function(t){var n=t.target.result;n?(i.push(n.value),n["continue"]()):e(i)}}function d(e){var t=1,n=m.open("todos",t);n.onupgradeneeded=function(e){f=e.target.result,e.target.transaction.onerror=l,f.createObjectStore("todo",{keyPath:"timeStamp"})},n.onsuccess=function(t){f=t.target.result,e()},n.onerror=l}function l(e){console.error("An IndexedDB error has occurred",e)}function s(e){var t=f.transaction(["todo"],"readwrite"),n=t.objectStore("todo"),o=n.put({name:v.querySelector(".form__title").value,description:v.querySelector(".form__description").value,timeStamp:Date.now()});t.oncomplete=function(t){e()},o.onerror=l}n(this,r),window.addEventListener("push",e);var f,v,m=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;d(e)};t["default"]=o}]);
//# sourceMappingURL=bundle.js.map